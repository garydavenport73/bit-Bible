<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html{
            font-family: Arial, Helvetica, sans-serif;
        }
        pre {
            white-space: pre-wrap;
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>
</head>

<body>
    <main id="bible"><select id="bible-select"></select>
        <div id="bible-contents"></div>
    </main>
    <main id="dictionary"><input type="search" id="dictionary-input" list="bible-words">
        <div id="dictionary-contents"></div>
    </main>
    <main id="commentary"><select id="commentary-select"></select>
        <pre id="commentary-contents"></pre>
    </main>
    <datalist id="bible-words"></datalist>
</body>
<script src="osisReferencesArray.js"></script>
<script src="BSBBibleNoWordTags.js"></script>
<script src="headings.js"></script>
<script src="paragraphLocations.js"></script>
<script src="eastonsModified.js"></script>
<script src="jfbFormatted.js"></script>


<script>
    let bibleSelect = document.getElementById("bible-select");
    let bibleContents = document.getElementById("bible-contents");
    let commentarySelect = document.getElementById("commentary-select");
    let commentaryContents = document.getElementById("commentary-contents");
    let dictionaryInput = document.getElementById("dictionary-input");
    let str = "";
    //console.log(osisReferencesArray)
    for (let i = 0; i < osisReferencesArray.length; i++) {

        str += "<option value='" + osisReferencesArray[i] + "'>" + osisReferencesArray[i] + "</option>";

    }
    bibleSelect.innerHTML = str;
    commentarySelect.innerHTML = str;

    commentarySelect.addEventListener("input", showCommentaryChapter);

    bibleSelect.addEventListener("input", showBibleChapter);

    function showCommentaryChapter() {

        //if (bcv === "") {
            bcv = commentarySelect.value;
            console.log(commentarySelect.value);
        //}
        let book = bcv.split(".")[0];
        let chapter = bcv.split(".")[1];

            console.log(book+"."+chapter);
        

        commentaryContents.innerHTML = jfb[book+"."+chapter];
        console.log(book+"."+chapter);
    }

    function showBibleChapter() {
        //if (bcv === "") {
            bcv = bibleSelect.value;
        //}
        let book = bcv.split(".")[0];
        let chapter = bcv.split(".")[1];
        console.log(book, chapter);
        console.log(osisReferencesArray);

        //bibleContents.innerHTML="<h2>"+book.toUpperCase()+" "+chapter.toUpperCase()+"</h2>";

        let chapterContents = "<h2>" + book.toUpperCase() + " " + chapter.toUpperCase() + "</h2>";
        for (let i = 0; i < osisReferencesArray.length; i++) {

            let osisRefBook = osisReferencesArray[i].split(".")[0];
            let osisRefChapter = osisReferencesArray[i].split(".")[1];
            let osisRefVerse = osisReferencesArray[i].split(".")[2];
            //console.log(osisRefBook,osisRefChapter);

            if ((osisRefBook == book) && (osisRefChapter == chapter)) {
                if (paragraphLocations.includes(osisReferencesArray[i])) {
                    chapterContents += "<br><br>";
                }
                if (headings[osisReferencesArray[i]] !== undefined) {
                    chapterContents += "<h3>" + headings[osisReferencesArray[i]] + "</h3>";
                }
                chapterContents += "<sup>" + osisRefVerse + ".</sup>" + bsb[osisReferencesArray[i]];
            }
            bibleContents.innerHTML = chapterContents;
        }



    }

    //showBibleChapter();
</script>

</html>